<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">deCOVID</a> &gt; <a href="index.source.html" class="el_package">comp3111.covid</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">package comp3111.covid;

import java.util.ArrayList;


import java.util.List;

import javafx.event.ActionEvent;
import javafx.event.Event;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.CheckBox;
import javafx.scene.control.ScrollPane;
import javafx.scene.control.Tab;
import javafx.scene.control.TableView;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.control.ToggleGroup;
import javafx.scene.layout.VBox;

import javafx.beans.binding.ListExpression;
import javafx.scene.control.TableColumn;
import javafx.scene.control.TableView;
import javafx.scene.control.cell.PropertyValueFactory;
import javafx.collections.ObservableList;
import javafx.beans.property.ListProperty;
import javafx.collections.FXCollections;
import javafx.scene.Node;
import javafx.scene.control.Label;
import javafx.scene.chart.CategoryAxis;
import javafx.scene.chart.LineChart;
import javafx.scene.chart.NumberAxis;
import javafx.scene.chart.XYChart;
import javafx.geometry.Pos;
import javafx.scene.control.ChoiceBox;

/**
 * Building on the sample skeleton for 'ui.fxml' Controller Class generated by SceneBuilder 
 */
<span class="nc" id="L40">public class Controller {</span>

	@FXML
    private Tab tabTaskZero;

    @FXML
    private TextField textfieldISO;

    @FXML
    private Button buttonConfirmedDeaths;

    @FXML
    private TextField textfieldDataset;

    @FXML
    private Button buttonRateOfVaccination;

    @FXML
    private Button buttonConfirmedCases;

    @FXML
    private Tab tabReport1;

    @FXML
    private TextField A1Date;

    @FXML
    private Button confirmButtonA1;

    @FXML
    private VBox countryPaneA1;

    @FXML
    private Button ResetA1;

    @FXML
    private Tab tabReport2;

    @FXML
    private TextField B1Date;

    @FXML
    private Button confirmButtonB1;

    @FXML
    private VBox countryPaneB1;

    @FXML
    private Button ResetB1;

    @FXML
    private Tab tabReport3;

    @FXML
    private Button confirmButtonC1;

    @FXML
    private TextField C1Date;

    @FXML
    private VBox countryPaneC1;

    @FXML
    private Button ResetC1;

    @FXML
    private Tab tabApp1;

    @FXML
    private TextField A2Period;

    @FXML
    private Button confirmButtonA2;

    @FXML
    private VBox countryPaneA2;

    @FXML
    private Button ResetA2;

    @FXML
    private Tab tabApp2;

    @FXML
    private TextField B2Period;

    @FXML
    private Button confirmButtonB2;

    @FXML
    private VBox countryPaneB2;

    @FXML
    private Button ResetB2;

    @FXML
    private Tab tabApp3;

    @FXML
    private TextField C2Period;

    @FXML
    private Button confirmButtonC2;

    @FXML
    private VBox countryPaneC2;

    @FXML
    private Button ResetC2;

    @FXML
    private Tab tabHonor1;

    @FXML
    private TextField A3Date;

    @FXML
    private ChoiceBox&lt;String&gt; feature1A3;

    @FXML
    private ChoiceBox&lt;String&gt; feature2A3;

    @FXML
    private Button confirmButtonA3;

    @FXML
    private VBox countryPaneA3;

    @FXML
    private Button ResetA3;

    @FXML
    private Tab tabHonor3;

    @FXML
    private ChoiceBox&lt;String&gt; feature1C3;

    @FXML
    private ChoiceBox&lt;String&gt; feature2C3;

    @FXML
    private VBox countryPaneC3;

    @FXML
    private TextField C3Date;

    @FXML
    private Button confirmButtonC3;

    @FXML
    private Button ResetC3;

    @FXML
    private VBox showPane;
    
    @FXML
    private Button showMapButtonA3;
    
    @FXML
    private Button showMapButtonC3;
    
    
    /**
     * Create the country check boxes
     * To be triggered when choosing task A1
     * @param event 		Event Triggering the function
     */
    @FXML
    void addCountryCheckBoxListforA1(Event event) {
<span class="nc" id="L209">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxList();</span>
<span class="nc" id="L210">		countryPaneA1.getChildren().clear();</span>
<span class="nc" id="L211">		countryPaneA1.getChildren().addAll(countryList);</span>
<span class="nc" id="L212">        var child = showPane.getChildren();</span>
<span class="nc" id="L213">        child.clear();</span>
<span class="nc" id="L214">	}</span>
    
    /**
     * Create the country check boxes
     * To be triggered when choosing task A2
     * @param event 		Event Triggering the function
     */
    @FXML
    void addCountryCheckBoxListforA2(Event event) {
<span class="nc" id="L223">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxList();</span>
<span class="nc" id="L224">		countryPaneA2.getChildren().clear();</span>
<span class="nc" id="L225">		countryPaneA2.getChildren().addAll(countryList);</span>
<span class="nc" id="L226">        var child = showPane.getChildren();</span>
<span class="nc" id="L227">        child.clear();</span>
<span class="nc" id="L228">	}</span>
    
    /**
     * Create the country check boxes
     * To be triggered when choosing task B1
     * @param event 		Event Triggering the function
     */
    @FXML
    void addCountryCheckBoxListforB1(Event event) {
<span class="nc" id="L237">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxList();</span>
<span class="nc" id="L238">		countryPaneB1.getChildren().clear();</span>
<span class="nc" id="L239">		countryPaneB1.getChildren().addAll(countryList);</span>
<span class="nc" id="L240">        var child = showPane.getChildren();</span>
<span class="nc" id="L241">        child.clear();</span>
<span class="nc" id="L242">	}</span>
    
    /**
     * Create the country check boxes
     * To be triggered when choosing task B2
     * @param event 		Event Triggering the function
     */
    @FXML
    void addCountryCheckBoxListforB2(Event event) {
<span class="nc" id="L251">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxList();</span>
<span class="nc" id="L252">		countryPaneB2.getChildren().clear();</span>
<span class="nc" id="L253">		countryPaneB2.getChildren().addAll(countryList);</span>
<span class="nc" id="L254">        var child = showPane.getChildren();</span>
<span class="nc" id="L255">        child.clear();</span>
<span class="nc" id="L256">	}</span>
    
    /**
     * Create the country check boxes
     * To be triggered when choosing task C1
     * @param event 		Event Triggering the function
     */
    @FXML
    void addCountryCheckBoxListforC1(Event event) {
<span class="nc" id="L265">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxList();</span>
<span class="nc" id="L266">		countryPaneC1.getChildren().clear();</span>
<span class="nc" id="L267">		countryPaneC1.getChildren().addAll(countryList);</span>
<span class="nc" id="L268">        var child = showPane.getChildren();</span>
<span class="nc" id="L269">        child.clear();</span>
<span class="nc" id="L270">	}</span>
    
    /**
     * Create the country check boxes
     * To be triggered when choosing task C2
     * @param event 		Event Triggering the function
     */
    @FXML
    void addCountryCheckBoxListforC2(Event event) {
<span class="nc" id="L279">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxList();</span>
<span class="nc" id="L280">		countryPaneC2.getChildren().clear();</span>
<span class="nc" id="L281">		countryPaneC2.getChildren().addAll(countryList);</span>
<span class="nc" id="L282">        var child = showPane.getChildren();</span>
<span class="nc" id="L283">        child.clear();</span>
<span class="nc" id="L284">	}</span>
    
    /**
     * Create the country check boxes and add all options of the features
     * To be triggered when choosing task A3
     * @param event 		Event Triggering the function
     */
    @FXML
    void intializeSelectionsA3(Event event) {
<span class="nc" id="L293">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxListForHonor();</span>
<span class="nc" id="L294">		countryPaneA3.getChildren().clear();</span>
<span class="nc" id="L295">		countryPaneA3.getChildren().addAll(countryList);</span>
<span class="nc" id="L296">        var child = showPane.getChildren();</span>
<span class="nc" id="L297">        child.clear();</span>
<span class="nc" id="L298">    	feature1A3.getItems().clear();</span>
<span class="nc" id="L299">    	feature1A3.getItems().add(&quot;stringency_index&quot;);</span>
<span class="nc" id="L300">    	feature1A3.getItems().add(&quot;population&quot;);</span>
<span class="nc" id="L301">    	feature1A3.getItems().add(&quot;population_density&quot;);</span>
<span class="nc" id="L302">    	feature1A3.getItems().add(&quot;median_age&quot;);</span>
<span class="nc" id="L303">    	feature1A3.getItems().add(&quot;aged_65_older&quot;);</span>
<span class="nc" id="L304">    	feature1A3.getItems().add(&quot;aged_70_older&quot;);</span>
<span class="nc" id="L305">    	feature1A3.getItems().add(&quot;gdp_per_capita&quot;);</span>
<span class="nc" id="L306">    	feature1A3.getItems().add(&quot;extreme_poverty&quot;);</span>
<span class="nc" id="L307">    	feature1A3.getItems().add(&quot;cardiovasc_death_rate&quot;);</span>
<span class="nc" id="L308">    	feature1A3.getItems().add(&quot;diabetes_prevalence&quot;);</span>
<span class="nc" id="L309">    	feature1A3.getItems().add(&quot;female_smokers&quot;);</span>
<span class="nc" id="L310">    	feature1A3.getItems().add(&quot;male_smokers&quot;);</span>
<span class="nc" id="L311">    	feature1A3.getItems().add(&quot;handwashing_facilities&quot;);</span>
<span class="nc" id="L312">    	feature1A3.getItems().add(&quot;hospital_beds_per_thousand&quot;);</span>
<span class="nc" id="L313">    	feature1A3.getItems().add(&quot;life_expectancy&quot;);</span>
<span class="nc" id="L314">    	feature1A3.getItems().add(&quot;human_development_index&quot;);</span>
<span class="nc" id="L315">    	feature1A3.getItems().add(&quot;excess_mortality&quot;);</span>
    	
<span class="nc" id="L317">    	feature2A3.getItems().clear();</span>
<span class="nc" id="L318">    	feature2A3.getItems().add(&quot;stringency_index&quot;);</span>
<span class="nc" id="L319">    	feature2A3.getItems().add(&quot;population&quot;);</span>
<span class="nc" id="L320">    	feature2A3.getItems().add(&quot;population_density&quot;);</span>
<span class="nc" id="L321">    	feature2A3.getItems().add(&quot;median_age&quot;);</span>
<span class="nc" id="L322">    	feature2A3.getItems().add(&quot;aged_65_older&quot;);</span>
<span class="nc" id="L323">    	feature2A3.getItems().add(&quot;aged_70_older&quot;);</span>
<span class="nc" id="L324">    	feature2A3.getItems().add(&quot;gdp_per_capita&quot;);</span>
<span class="nc" id="L325">    	feature2A3.getItems().add(&quot;extreme_poverty&quot;);</span>
<span class="nc" id="L326">    	feature2A3.getItems().add(&quot;cardiovasc_death_rate&quot;);</span>
<span class="nc" id="L327">    	feature2A3.getItems().add(&quot;diabetes_prevalence&quot;);</span>
<span class="nc" id="L328">    	feature2A3.getItems().add(&quot;female_smokers&quot;);</span>
<span class="nc" id="L329">    	feature2A3.getItems().add(&quot;male_smokers&quot;);</span>
<span class="nc" id="L330">    	feature2A3.getItems().add(&quot;handwashing_facilities&quot;);</span>
<span class="nc" id="L331">    	feature2A3.getItems().add(&quot;hospital_beds_per_thousand&quot;);</span>
<span class="nc" id="L332">    	feature2A3.getItems().add(&quot;life_expectancy&quot;);</span>
<span class="nc" id="L333">    	feature2A3.getItems().add(&quot;human_development_index&quot;);</span>
<span class="nc" id="L334">    	feature2A3.getItems().add(&quot;excess_mortality&quot;);</span>
<span class="nc" id="L335">    }</span>
    
    /**
     * Create the country check boxes and add all options of the features
     * To be triggered when choosing task C3
     * @param event 		Event Triggering the function
     */
    @FXML
    void intializeSelectionsC3(Event event) {
<span class="nc" id="L344">		List&lt;CheckBox&gt; countryList = createCountryCheckBoxListForHonor();</span>
<span class="nc" id="L345">		countryPaneC3.getChildren().clear();</span>
<span class="nc" id="L346">		countryPaneC3.getChildren().addAll(countryList);</span>
<span class="nc" id="L347">        var child = showPane.getChildren();</span>
<span class="nc" id="L348">        child.clear();</span>
<span class="nc" id="L349">    	feature1C3.getItems().clear();</span>
<span class="nc" id="L350">    	feature1C3.getItems().add(&quot;stringency_index&quot;);</span>
<span class="nc" id="L351">    	feature1C3.getItems().add(&quot;population&quot;);</span>
<span class="nc" id="L352">    	feature1C3.getItems().add(&quot;population_density&quot;);</span>
<span class="nc" id="L353">    	feature1C3.getItems().add(&quot;median_age&quot;);</span>
<span class="nc" id="L354">    	feature1C3.getItems().add(&quot;aged_65_older&quot;);</span>
<span class="nc" id="L355">    	feature1C3.getItems().add(&quot;aged_70_older&quot;);</span>
<span class="nc" id="L356">    	feature1C3.getItems().add(&quot;gdp_per_capita&quot;);</span>
<span class="nc" id="L357">    	feature1C3.getItems().add(&quot;extreme_poverty&quot;);</span>
<span class="nc" id="L358">    	feature1C3.getItems().add(&quot;cardiovasc_death_rate&quot;);</span>
<span class="nc" id="L359">    	feature1C3.getItems().add(&quot;diabetes_prevalence&quot;);</span>
<span class="nc" id="L360">    	feature1C3.getItems().add(&quot;female_smokers&quot;);</span>
<span class="nc" id="L361">    	feature1C3.getItems().add(&quot;male_smokers&quot;);</span>
<span class="nc" id="L362">    	feature1C3.getItems().add(&quot;handwashing_facilities&quot;);</span>
<span class="nc" id="L363">    	feature1C3.getItems().add(&quot;hospital_beds_per_thousand&quot;);</span>
<span class="nc" id="L364">    	feature1C3.getItems().add(&quot;life_expectancy&quot;);</span>
<span class="nc" id="L365">    	feature1C3.getItems().add(&quot;human_development_index&quot;);</span>
<span class="nc" id="L366">    	feature1C3.getItems().add(&quot;excess_mortality&quot;);</span>
    	
<span class="nc" id="L368">    	feature2C3.getItems().clear();</span>
<span class="nc" id="L369">    	feature2C3.getItems().add(&quot;stringency_index&quot;);</span>
<span class="nc" id="L370">    	feature2C3.getItems().add(&quot;population&quot;);</span>
<span class="nc" id="L371">    	feature2C3.getItems().add(&quot;population_density&quot;);</span>
<span class="nc" id="L372">    	feature2C3.getItems().add(&quot;median_age&quot;);</span>
<span class="nc" id="L373">    	feature2C3.getItems().add(&quot;aged_65_older&quot;);</span>
<span class="nc" id="L374">    	feature2C3.getItems().add(&quot;aged_70_older&quot;);</span>
<span class="nc" id="L375">    	feature2C3.getItems().add(&quot;gdp_per_capita&quot;);</span>
<span class="nc" id="L376">    	feature2C3.getItems().add(&quot;extreme_poverty&quot;);</span>
<span class="nc" id="L377">    	feature2C3.getItems().add(&quot;cardiovasc_death_rate&quot;);</span>
<span class="nc" id="L378">    	feature2C3.getItems().add(&quot;diabetes_prevalence&quot;);</span>
<span class="nc" id="L379">    	feature2C3.getItems().add(&quot;female_smokers&quot;);</span>
<span class="nc" id="L380">    	feature2C3.getItems().add(&quot;male_smokers&quot;);</span>
<span class="nc" id="L381">    	feature2C3.getItems().add(&quot;handwashing_facilities&quot;);</span>
<span class="nc" id="L382">    	feature2C3.getItems().add(&quot;hospital_beds_per_thousand&quot;);</span>
<span class="nc" id="L383">    	feature2C3.getItems().add(&quot;life_expectancy&quot;);</span>
<span class="nc" id="L384">    	feature2C3.getItems().add(&quot;human_development_index&quot;);</span>
<span class="nc" id="L385">    	feature2C3.getItems().add(&quot;excess_mortality&quot;);</span>
<span class="nc" id="L386">    }</span>
    
    
    /**
     * Helper function to create a list of country box for task 1 and 2
     * To be used by addCountryCheckBoxListforXX methods
     * @return Reference to list of CheckBox containing all checkboxes of country
     */
	List&lt;CheckBox&gt; createCountryCheckBoxList() {
<span class="nc" id="L395">		List&lt;String&gt; countryList = DataAnalysis.getCountryList(&quot;COVID_Dataset_v1.0.csv&quot;);</span>
<span class="nc" id="L396">		List&lt;CheckBox&gt; boxList = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L397" title="All 2 branches missed.">		for (int i = 0; i &lt; countryList.size(); i++) {</span>
<span class="nc" id="L398">			boxList.add(new CheckBox());</span>
<span class="nc" id="L399">			boxList.get(i).setText(countryList.get(i));</span>
			//System.out.println(boxList.get(i).getText());
		}
<span class="nc" id="L402">		return boxList;</span>
		
	}
    
	
    /**
     * Helper function to create a list of country box for task 3 (honor track tasks), 
     * excluding the continents and world
     * To be used by intializeSelectionsXX methods
     * @return Reference to list of CheckBox containing all checkboxes of country
     */
	List&lt;CheckBox&gt; createCountryCheckBoxListForHonor() {
<span class="nc" id="L414">		List&lt;String&gt; countryList = DataAnalysis.getCountryList(&quot;COVID_Dataset_v2.0.csv&quot;);</span>
<span class="nc" id="L415">		List&lt;CheckBox&gt; boxList = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L416" title="All 2 branches missed.">		for (int i = 0; i &lt; countryList.size(); i++) {</span>
<span class="nc" id="L417">			boxList.add(new CheckBox());</span>
<span class="nc" id="L418">			boxList.get(i).setText(countryList.get(i));</span>
			//System.out.println(boxList.get(i).getText());
		}
<span class="nc" id="L421">		return boxList;</span>
		
	}
	
    /**
     * Clear all selections of the countries in task A1
     * To be triggered when clicking the Reset button in task A1
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetA1(ActionEvent event) {
<span class="nc" id="L432">		var child = countryPaneA1.getChildren();</span>
<span class="nc bnc" id="L433" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L434">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L435">	}</span>
	
    /**
     * Clear all selections of the countries in task B1
     * To be triggered when clicking the Reset button in task B1
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetB1(ActionEvent event) {
<span class="nc" id="L444">		var child = countryPaneB1.getChildren();</span>
<span class="nc bnc" id="L445" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L446">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L447">	}</span>
	
    /**
     * Clear all selections of the countries in task C1
     * To be triggered when clicking the Reset button in task C1
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetC1(ActionEvent event) {
<span class="nc" id="L456">		var child = countryPaneC1.getChildren();</span>
<span class="nc bnc" id="L457" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L458">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L459">	}</span>
	
    /**
     * Clear all selections of the countries in task A2
     * To be triggered when clicking the Reset button in task A2
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetA2(ActionEvent event) {
<span class="nc" id="L468">		var child = countryPaneA2.getChildren();</span>
<span class="nc bnc" id="L469" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L470">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L471">	}</span>
	
    /**
     * Clear all selections of the countries in task B2
     * To be triggered when clicking the Reset button in task B2
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetB2(ActionEvent event) {
<span class="nc" id="L480">		var child = countryPaneB2.getChildren();</span>
<span class="nc bnc" id="L481" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L482">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L483">	}</span>
	
    /**
     * Clear all selections of the countries in task C2
     * To be triggered when clicking the Reset button in task C2
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetC2(ActionEvent event) {
<span class="nc" id="L492">		var child = countryPaneC2.getChildren();</span>
<span class="nc bnc" id="L493" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L494">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L495">	}</span>
	
    /**
     * Clear all selections of the countries in task A3
     * To be triggered when clicking the Reset button in task A3
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetA3(ActionEvent event) {
<span class="nc" id="L504">		var child = countryPaneA3.getChildren();</span>
<span class="nc bnc" id="L505" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L506">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L507">	}</span>
	
    /**
     * Clear all selections of the countries in task C3
     * To be triggered when clicking the Reset button in task C3
     * @param event 		Event Triggering the function
     */
	@FXML 
	void ResetC3(ActionEvent event) {
<span class="nc" id="L516">		var child = countryPaneC3.getChildren();</span>
<span class="nc bnc" id="L517" title="All 2 branches missed.">		for (var box : child)</span>
<span class="nc" id="L518">			((CheckBox)box).setSelected(false);</span>
<span class="nc" id="L519">	}</span>
    
    /**
     * Generate the table for task A1
     * To be triggered when clicking the Confirm button in task A1
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskA1(ActionEvent event) {
<span class="nc" id="L528">        var child = showPane.getChildren();</span>
<span class="nc" id="L529">        child.clear();</span>
    	// Get Date Input
<span class="nc" id="L531">    	String inputDate = A1Date.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L534">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L535">    	var boxList = countryPaneA1.getChildren();</span>
<span class="nc bnc" id="L536" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L537">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L538" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L539">    			countries.add(box.getText());</span>
    	}
    	
    		
<span class="nc bnc" id="L543" title="All 2 branches missed.">    	if (!comp3111.covid.util.DateParser.isValidDate(inputDate))</span>
<span class="nc" id="L544">    		comp3111.covid.view.UIService.showDateInvalidDialog();</span>
<span class="nc bnc" id="L545" title="All 2 branches missed.">    	else if (!comp3111.covid.util.DateParser.isDateWithinRange(inputDate))</span>
<span class="nc" id="L546">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L547" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L548">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
<span class="nc" id="L550">    		System.out.println(comp3111.covid.util.DateParser.transformToDateString(inputDate));</span>
<span class="nc" id="L551">    		comp3111.covid.model.RequestOnDate request = new comp3111.covid.model.RequestOnDate(countries, </span>
<span class="nc" id="L552">    				comp3111.covid.util.DateParser.transformToDateString(inputDate), 2);</span>
<span class="nc bnc" id="L553" title="All 2 branches missed.">    		for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L554">        		System.out.println(((comp3111.covid.model.ConfirmedCaseRecord)request.getRecord(countries.get(i))).getTotalNumConfirmedCase());</span>
    		}

<span class="nc" id="L557">    		TableView&lt;comp3111.covid.model.ConfirmedCaseRecord&gt; table = new TableView&lt;&gt;();</span>
<span class="nc" id="L558">    		TableColumn&lt;comp3111.covid.model.ConfirmedCaseRecord, String&gt; countryCol</span>
    					= new TableColumn(&quot;Country&quot;);
<span class="nc" id="L560">            TableColumn&lt;comp3111.covid.model.ConfirmedCaseRecord, Long&gt; totalCol</span>
            			= new TableColumn(&quot;Total Cases&quot;);
<span class="nc" id="L562">            TableColumn&lt;comp3111.covid.model.ConfirmedCaseRecord, Double&gt; rateCol</span>
            			= new TableColumn(&quot;Total Cases (per 1M)&quot;);
<span class="nc" id="L564">            countryCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;country&quot;));</span>
<span class="nc" id="L565">            totalCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;TotalNumConfirmedCase&quot;));</span>
<span class="nc" id="L566">            rateCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;NumConfirmedCasePerMillion&quot;));</span>
<span class="nc" id="L567">            List&lt;comp3111.covid.model.ConfirmedCaseRecord&gt; arrayList = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L568" title="All 2 branches missed.">            for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L569">            	arrayList.add((comp3111.covid.model.ConfirmedCaseRecord)(request.getRecord(countries.get(i))));</span>
            }
<span class="nc" id="L571">            ObservableList&lt;comp3111.covid.model.ConfirmedCaseRecord&gt; list = </span>
<span class="nc" id="L572">            		FXCollections.observableArrayList(arrayList);</span>
<span class="nc" id="L573">            Label label = new Label(&quot;Number of Confirmed COVID-19 Cases as of &quot; + inputDate);</span>
<span class="nc" id="L574">            table.setItems(list);</span>
<span class="nc" id="L575">            table.getColumns().addAll(countryCol, totalCol, rateCol);</span>
<span class="nc" id="L576">            child.add(label);</span>
<span class="nc" id="L577">            child.add((Node)table);</span>
        }
<span class="nc" id="L579">    }</span>
    
    /**
     * Generate the table for task B1
     * To be triggered when clicking the Confirm button in task B1
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskB1(ActionEvent event) {
<span class="nc" id="L588">        var child = showPane.getChildren();</span>
<span class="nc" id="L589">        child.clear();</span>
    	// Get Date Input
<span class="nc" id="L591">    	String inputDate = B1Date.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L594">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L595">    	var boxList = countryPaneB1.getChildren();</span>
<span class="nc bnc" id="L596" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L597">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L598" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L599">    			countries.add(box.getText());</span>
    	}
    	
    		
<span class="nc bnc" id="L603" title="All 2 branches missed.">    	if (!comp3111.covid.util.DateParser.isValidDate(inputDate))</span>
<span class="nc" id="L604">    		comp3111.covid.view.UIService.showDateInvalidDialog();</span>
<span class="nc bnc" id="L605" title="All 2 branches missed.">    	else if (!comp3111.covid.util.DateParser.isDateWithinRange(inputDate))</span>
<span class="nc" id="L606">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L607" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L608">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
<span class="nc" id="L610">    		System.out.println(comp3111.covid.util.DateParser.transformToDateString(inputDate));</span>
<span class="nc" id="L611">    		comp3111.covid.model.RequestOnDate request = new comp3111.covid.model.RequestOnDate(countries, </span>
<span class="nc" id="L612">    				comp3111.covid.util.DateParser.transformToDateString(inputDate), 1);</span>
<span class="nc bnc" id="L613" title="All 2 branches missed.">    		for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L614">        		System.out.println(((comp3111.covid.model.DeathRecord)request.getRecord(countries.get(i))).getTotalNumDeath());</span>
    		}

<span class="nc" id="L617">    		TableView&lt;comp3111.covid.model.DeathRecord&gt; table = new TableView&lt;&gt;();</span>
<span class="nc" id="L618">    		TableColumn&lt;comp3111.covid.model.DeathRecord, String&gt; countryCol</span>
    					= new TableColumn(&quot;Country&quot;);
<span class="nc" id="L620">            TableColumn&lt;comp3111.covid.model.DeathRecord, Long&gt; totalCol</span>
            			= new TableColumn(&quot;Total Deaths&quot;);
<span class="nc" id="L622">            TableColumn&lt;comp3111.covid.model.DeathRecord, Double&gt; rateCol</span>
            			= new TableColumn(&quot;Total Deaths (per 1M)&quot;);
<span class="nc" id="L624">            countryCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;country&quot;));</span>
<span class="nc" id="L625">            totalCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;TotalNumDeath&quot;));</span>
<span class="nc" id="L626">            rateCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;NumDeathPerMillion&quot;));</span>
<span class="nc" id="L627">            List&lt;comp3111.covid.model.DeathRecord&gt; arrayList = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L628" title="All 2 branches missed.">            for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L629">            	arrayList.add((comp3111.covid.model.DeathRecord)(request.getRecord(countries.get(i))));</span>
            }
<span class="nc" id="L631">            ObservableList&lt;comp3111.covid.model.DeathRecord&gt; list = </span>
<span class="nc" id="L632">            		FXCollections.observableArrayList(arrayList);</span>
<span class="nc" id="L633">            Label label = new Label(&quot;Number of Confirmed COVID-19 Deaths as of &quot; + inputDate);</span>
<span class="nc" id="L634">            table.setItems(list);</span>
<span class="nc" id="L635">            table.getColumns().addAll(countryCol, totalCol, rateCol);</span>
<span class="nc" id="L636">            child.add(label);</span>
<span class="nc" id="L637">            child.add((Node)table);</span>
        }
<span class="nc" id="L639">    }</span>
    
    /**
     * Generate the table for task C1
     * To be triggered when clicking the Confirm button in task C1
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskC1(ActionEvent event) {
<span class="nc" id="L648">        var child = showPane.getChildren();</span>
<span class="nc" id="L649">        child.clear();</span>
    	// Get Date Input
<span class="nc" id="L651">    	String inputDate = C1Date.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L654">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L655">    	var boxList = countryPaneC1.getChildren();</span>
<span class="nc bnc" id="L656" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L657">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L658" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L659">    			countries.add(box.getText());</span>
    	}
    	
    		
<span class="nc bnc" id="L663" title="All 2 branches missed.">    	if (!comp3111.covid.util.DateParser.isValidDate(inputDate))</span>
<span class="nc" id="L664">    		comp3111.covid.view.UIService.showDateInvalidDialog();</span>
<span class="nc bnc" id="L665" title="All 2 branches missed.">    	else if (!comp3111.covid.util.DateParser.isDateWithinRange(inputDate))</span>
<span class="nc" id="L666">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L667" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L668">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
<span class="nc" id="L670">    		System.out.println(comp3111.covid.util.DateParser.transformToDateString(inputDate));</span>
<span class="nc" id="L671">    		comp3111.covid.model.RequestOnDate request = new comp3111.covid.model.RequestOnDate(countries, </span>
<span class="nc" id="L672">    				comp3111.covid.util.DateParser.transformToDateString(inputDate), 3);</span>
<span class="nc bnc" id="L673" title="All 2 branches missed.">    		for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L674">        		System.out.println(((comp3111.covid.model.VaccinationRecord)request.getRecord(countries.get(i))).getNumVaccination());</span>
    		}

<span class="nc" id="L677">    		TableView&lt;comp3111.covid.model.VaccinationRecord&gt; table = new TableView&lt;&gt;();</span>
<span class="nc" id="L678">    		TableColumn&lt;comp3111.covid.model.VaccinationRecord, String&gt; countryCol</span>
    					= new TableColumn(&quot;Country&quot;);
<span class="nc" id="L680">            TableColumn&lt;comp3111.covid.model.VaccinationRecord, String&gt; totalCol</span>
            			= new TableColumn(&quot;Fully Vaccinated&quot;);
<span class="nc" id="L682">            TableColumn&lt;comp3111.covid.model.VaccinationRecord, String&gt; rateCol</span>
            			= new TableColumn(&quot;Rate of Vaccination&quot;);
<span class="nc" id="L684">            countryCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;country&quot;));</span>
<span class="nc" id="L685">            totalCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;NumString&quot;));</span>
<span class="nc" id="L686">            rateCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;RateInPercentage&quot;));</span>
<span class="nc" id="L687">            List&lt;comp3111.covid.model.VaccinationRecord&gt; arrayList = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L688" title="All 2 branches missed.">            for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L689">            	arrayList.add((comp3111.covid.model.VaccinationRecord)(request.getRecord(countries.get(i))));</span>
            }
<span class="nc" id="L691">            ObservableList&lt;comp3111.covid.model.VaccinationRecord&gt; list = </span>
<span class="nc" id="L692">            		FXCollections.observableArrayList(arrayList);</span>
<span class="nc" id="L693">            Label label = new Label(&quot;Rate of Vaccination against COVID-19 as of &quot; + inputDate);</span>
<span class="nc" id="L694">            table.setItems(list);</span>
<span class="nc" id="L695">            table.getColumns().addAll(countryCol, totalCol, rateCol);</span>
<span class="nc" id="L696">            child.add(label);</span>
<span class="nc" id="L697">            child.add((Node)table);</span>
        }
<span class="nc" id="L699">    }</span>
    
    /**
     * Generate the chart for task A2
     * To be triggered when clicking the Confirm button in task A2
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskA2(ActionEvent event) {
<span class="nc" id="L708">        var child = showPane.getChildren();</span>
<span class="nc" id="L709">        child.clear();</span>
    	// Get Period Input
<span class="nc" id="L711">    	String inputPeriod = A2Period.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L714">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L715">    	var boxList = countryPaneA2.getChildren();</span>
<span class="nc bnc" id="L716" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L717">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L718" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L719">    			countries.add(box.getText());</span>
    	}
    	
    		
<span class="nc bnc" id="L723" title="All 2 branches missed.">    	if (!comp3111.covid.util.PeriodParser.isValidDateInPeriod(inputPeriod))</span>
<span class="nc" id="L724">    		comp3111.covid.view.UIService.showPeriodInvalidDialog();</span>
<span class="nc bnc" id="L725" title="All 2 branches missed.">    	else if (!comp3111.covid.util.PeriodParser.isDateWithinRangeInPeriod(inputPeriod))</span>
<span class="nc" id="L726">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L727" title="All 2 branches missed.">    	else if (!comp3111.covid.util.PeriodParser.isStartBeforeEnd(inputPeriod))</span>
<span class="nc" id="L728">    		comp3111.covid.view.UIService.showStartLaterThanEndDialog();</span>
<span class="nc bnc" id="L729" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L730">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
    		//return;
<span class="nc" id="L733">        	var dates = comp3111.covid.util.PeriodParser.transformToPeriodString(inputPeriod);</span>
<span class="nc" id="L734">        	comp3111.covid.model.Period period = new comp3111.covid.model.Period(dates[0], dates[1]);</span>
<span class="nc" id="L735">    		comp3111.covid.model.RequestOverPeriod request = new comp3111.covid.model.RequestOverPeriod(countries, </span>
    				period, 2);
<span class="nc" id="L737">            final CategoryAxis xAxis = new CategoryAxis();</span>
<span class="nc" id="L738">            final NumberAxis yAxis = new NumberAxis();</span>
<span class="nc" id="L739">            xAxis.setLabel(&quot;Date&quot;);</span>
<span class="nc" id="L740">    		LineChart&lt;String, Number&gt; chart = new LineChart&lt;String, Number&gt;(xAxis,yAxis);</span>
<span class="nc" id="L741">    		chart.setTitle(&quot;Cumulative Confirmed COVID-19 Cases (per 1M)&quot;);</span>
<span class="nc" id="L742">            List&lt;comp3111.covid.model.ConfirmedCaseRecord&gt; arrayList = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L743">            List&lt;XYChart.Series&gt; series = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L744" title="All 2 branches missed.">            for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L745">            	series.add(new XYChart.Series());</span>
<span class="nc" id="L746">            	series.get(i).setName(countries.get(i));</span>
<span class="nc" id="L747">            	var datebetween = period.getDatesBetween();</span>
<span class="nc" id="L748">            	System.out.println(datebetween);</span>
<span class="nc bnc" id="L749" title="All 2 branches missed.">            	for (int j = 0; j &lt; datebetween.size(); j++) {</span>
<span class="nc" id="L750">            		var record = (comp3111.covid.model.ConfirmedCasePeriodRecord) (request).getPeriodRecord(countries.get(i), period);</span>
<span class="nc" id="L751">            		System.out.println(&quot;size is &quot; + record.getNumConfirmedCasePerMillion().size());</span>
<span class="nc" id="L752">            		var datay = record.getNumConfirmedCasePerMillion().get(j);	</span>
<span class="nc" id="L753">            		series.get(i).getData().add(new XYChart.Data(datebetween.get(j), datay));</span>
<span class="nc" id="L754">            		System.out.println(datay);</span>
            	}
<span class="nc" id="L756">            	chart.getData().add(series.get(i));</span>
<span class="nc" id="L757">            	chart.setCreateSymbols(false);</span>
            }
<span class="nc" id="L759">            child.add((Node)chart);</span>

        }
<span class="nc" id="L762">    }</span>
    
    /**
     * Generate the chart for task B2
     * To be triggered when clicking the Confirm button in task B2
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskB2(ActionEvent event) {
<span class="nc" id="L771">    	var child = showPane.getChildren();</span>
<span class="nc" id="L772">        child.clear();</span>
    	// Get Period Input
<span class="nc" id="L774">    	String inputPeriod = B2Period.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L777">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L778">    	var boxList = countryPaneB2.getChildren();</span>
<span class="nc bnc" id="L779" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L780">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L781" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L782">    			countries.add(box.getText());</span>
    	}
    	
    		
<span class="nc bnc" id="L786" title="All 2 branches missed.">    	if (!comp3111.covid.util.PeriodParser.isValidDateInPeriod(inputPeriod))</span>
<span class="nc" id="L787">    		comp3111.covid.view.UIService.showPeriodInvalidDialog();</span>
<span class="nc bnc" id="L788" title="All 2 branches missed.">    	else if (!comp3111.covid.util.PeriodParser.isDateWithinRangeInPeriod(inputPeriod))</span>
<span class="nc" id="L789">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L790" title="All 2 branches missed.">    	else if (!comp3111.covid.util.PeriodParser.isStartBeforeEnd(inputPeriod))</span>
<span class="nc" id="L791">    		comp3111.covid.view.UIService.showStartLaterThanEndDialog();</span>
<span class="nc bnc" id="L792" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L793">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
    		//return;
<span class="nc" id="L796">        	var dates = comp3111.covid.util.PeriodParser.transformToPeriodString(inputPeriod);</span>
<span class="nc" id="L797">        	comp3111.covid.model.Period period = new comp3111.covid.model.Period(dates[0], dates[1]);</span>
<span class="nc" id="L798">    		comp3111.covid.model.RequestOverPeriod request = new comp3111.covid.model.RequestOverPeriod(countries, </span>
    				period, 1);
<span class="nc" id="L800">            final CategoryAxis xAxis = new CategoryAxis();</span>
<span class="nc" id="L801">            final NumberAxis yAxis = new NumberAxis();</span>
<span class="nc" id="L802">            xAxis.setLabel(&quot;Date&quot;);</span>
<span class="nc" id="L803">    		LineChart&lt;String, Number&gt; chart = new LineChart&lt;String, Number&gt;(xAxis,yAxis);</span>
<span class="nc" id="L804">    		chart.setTitle(&quot;Cumulative Confirmed COVID-19 Deaths (per 1M)&quot;);</span>
<span class="nc" id="L805">            List&lt;comp3111.covid.model.DeathRecord&gt; arrayList = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L806">            List&lt;XYChart.Series&gt; series = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L807" title="All 2 branches missed.">            for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L808">            	series.add(new XYChart.Series());</span>
<span class="nc" id="L809">            	series.get(i).setName(countries.get(i));</span>
<span class="nc" id="L810">            	var datebetween = period.getDatesBetween();</span>
<span class="nc" id="L811">            	System.out.println(datebetween);</span>
<span class="nc bnc" id="L812" title="All 2 branches missed.">            	for (int j = 0; j &lt; datebetween.size(); j++) {</span>
<span class="nc" id="L813">            		var record = (comp3111.covid.model.DeathPeriodRecord) (request).getPeriodRecord(countries.get(i), period);</span>
<span class="nc" id="L814">            		var datay = record.getNumDeathPerMillions().get(j);	</span>
<span class="nc" id="L815">            		series.get(i).getData().add(new XYChart.Data(datebetween.get(j), datay));</span>
<span class="nc" id="L816">            		System.out.println(datay);</span>
            	}
<span class="nc" id="L818">            	chart.getData().add(series.get(i));</span>
<span class="nc" id="L819">            	chart.setCreateSymbols(false);</span>
            }
<span class="nc" id="L821">            child.add((Node)chart);</span>

        }
<span class="nc" id="L824">    }</span>
    
    /**
     * Generate the chart for task C2
     * To be triggered when clicking the Confirm button in task C2
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskC2(ActionEvent event) {
<span class="nc" id="L833">    	var child = showPane.getChildren();</span>
<span class="nc" id="L834">        child.clear();</span>
    	// Get Period Input
<span class="nc" id="L836">    	String inputPeriod = C2Period.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L839">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L840">    	var boxList = countryPaneC2.getChildren();</span>
<span class="nc bnc" id="L841" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L842">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L843" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L844">    			countries.add(box.getText());</span>
    	}
    	
    	
    		
<span class="nc bnc" id="L849" title="All 2 branches missed.">    	if (!comp3111.covid.util.PeriodParser.isValidDateInPeriod(inputPeriod))</span>
<span class="nc" id="L850">    		comp3111.covid.view.UIService.showPeriodInvalidDialog();</span>
<span class="nc bnc" id="L851" title="All 2 branches missed.">    	else if (!comp3111.covid.util.PeriodParser.isDateWithinRangeInPeriod(inputPeriod))</span>
<span class="nc" id="L852">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L853" title="All 2 branches missed.">    	else if (!comp3111.covid.util.PeriodParser.isStartBeforeEnd(inputPeriod))</span>
<span class="nc" id="L854">    		comp3111.covid.view.UIService.showStartLaterThanEndDialog();</span>
<span class="nc bnc" id="L855" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L856">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
    		//return;
<span class="nc" id="L859">        	var dates = comp3111.covid.util.PeriodParser.transformToPeriodString(inputPeriod);</span>
<span class="nc" id="L860">        	comp3111.covid.model.Period period = new comp3111.covid.model.Period(dates[0], dates[1]);</span>
<span class="nc" id="L861">    		comp3111.covid.model.RequestOverPeriod request = new comp3111.covid.model.RequestOverPeriod(countries, </span>
    				period, 3);
<span class="nc" id="L863">            final CategoryAxis xAxis = new CategoryAxis();</span>
<span class="nc" id="L864">            final NumberAxis yAxis = new NumberAxis();</span>
<span class="nc" id="L865">            xAxis.setLabel(&quot;Date&quot;);</span>
<span class="nc" id="L866">            yAxis.setLabel(&quot;VaccinationRate (%)&quot;);</span>
<span class="nc" id="L867">    		LineChart&lt;String, Number&gt; chart = new LineChart&lt;String, Number&gt;(xAxis,yAxis);</span>
<span class="nc" id="L868">    		chart.setTitle(&quot;Cumulative Rate of Vaccination against COVID-19&quot;);</span>
<span class="nc" id="L869">            List&lt;comp3111.covid.model.VaccinationRecord&gt; arrayList = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L870">            List&lt;XYChart.Series&gt; series = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L871" title="All 2 branches missed.">            for (int i = 0; i &lt; countries.size(); i++) {</span>
<span class="nc" id="L872">            	series.add(new XYChart.Series());</span>
<span class="nc" id="L873">            	series.get(i).setName(countries.get(i));</span>
<span class="nc" id="L874">            	var datebetween = period.getDatesBetween();</span>
<span class="nc" id="L875">            	System.out.println(datebetween);</span>
<span class="nc" id="L876">            	Double temp = 0.0;</span>
<span class="nc bnc" id="L877" title="All 2 branches missed.">            	for (int j = 0; j &lt; datebetween.size(); j++) {</span>
<span class="nc" id="L878">            		var record = (comp3111.covid.model.VaccinationPeriodRecord) (request).getPeriodRecord(countries.get(i), period);</span>
<span class="nc" id="L879">            		var datay = record.getVaccinationRates().get(j);	</span>
<span class="nc bnc" id="L880" title="All 2 branches missed.">            		if (datay - 0 &gt;= 0.00000001) {</span>
<span class="nc" id="L881">            			temp = datay;</span>
<span class="nc" id="L882">            			series.get(i).getData().add(new XYChart.Data(datebetween.get(j), datay));</span>
<span class="nc" id="L883">            			System.out.println(datay);</span>
            		} else {
<span class="nc" id="L885">            			series.get(i).getData().add(new XYChart.Data(datebetween.get(j), temp));</span>
<span class="nc" id="L886">            			System.out.println(&quot;No data&quot;);</span>
            		}
            	}
<span class="nc" id="L889">            	chart.getData().add(series.get(i));</span>
<span class="nc" id="L890">            	chart.setCreateSymbols(false);</span>
            }
<span class="nc" id="L892">            child.add((Node)chart);</span>

        }
<span class="nc" id="L895">    }</span>
    
    /**
     * Generate the bubble chart for task A3 with the selected two features
     * To be triggered when clicking the &quot;Show Bubble Chart&quot; button in task A3
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskA3(ActionEvent event) {
<span class="nc" id="L904">    	var child = showPane.getChildren();</span>
<span class="nc" id="L905">        child.clear();</span>
    	// Get Date Input
<span class="nc" id="L907">    	String inputDate = A3Date.getText();</span>
    	
    	// Get Feature Input
<span class="nc" id="L910">    	String feature1 = feature1A3.getValue();</span>
<span class="nc" id="L911">    	String feature2 = feature2A3.getValue();</span>
    	
    	// Get Country Input
<span class="nc" id="L914">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L915">    	var boxList = countryPaneA3.getChildren();</span>
<span class="nc bnc" id="L916" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L917">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L918" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L919">    			countries.add(box.getText());</span>
    	}
    	
    	
    	// validation
<span class="nc bnc" id="L924" title="All 2 branches missed.">    	if (!comp3111.covid.util.DateParser.isValidDate(inputDate))</span>
<span class="nc" id="L925">    		comp3111.covid.view.UIService.showDateInvalidDialog();</span>
<span class="nc bnc" id="L926" title="All 2 branches missed.">    	else if (!comp3111.covid.util.DateParser.isDateWithinRange(inputDate))</span>
<span class="nc" id="L927">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L928" title="All 2 branches missed.">    	else if (feature1.equals(feature2))</span>
<span class="nc" id="L929">    		comp3111.covid.view.UIService.showSameFeatureDialog();</span>
<span class="nc bnc" id="L930" title="All 2 branches missed.">    	else if (countries.size() &lt; 2)</span>
<span class="nc" id="L931">    		comp3111.covid.view.UIService.showLessThanTwoCountriesDialog();</span>
    	else {
<span class="nc" id="L933">    		var date = comp3111.covid.util.DateParser.transformToDateString(inputDate);</span>
    		//var map = comp3111.covid.view.FXMLController.GenerateMap();
<span class="nc" id="L935">    		var featureData = comp3111.covid.view.HonorTask.getFeaturesForA3(feature1, feature2, date, countries);</span>
<span class="nc" id="L936">    		var feature1Data = featureData.get(0);</span>
<span class="nc" id="L937">    		var feature2Data = featureData.get(1);</span>
<span class="nc" id="L938">    		var confirmedData = featureData.get(2);</span>
<span class="nc" id="L939">    		var chart = comp3111.covid.view.HonorTask.generateChartForA3(feature1, feature2, date, countries, </span>
    				feature1Data, feature2Data, confirmedData);
<span class="nc" id="L941">    		var table = comp3111.covid.view.HonorTask.generateReportForA3(feature1, feature2, date, countries, </span>
    				feature1Data, feature2Data, confirmedData);
//    		child.add(map);
<span class="nc" id="L944">    		child.add(chart);</span>
<span class="nc" id="L945">    		child.add(table);</span>
    	}
    	
<span class="nc" id="L948">    }</span>
    
    /**
     * Generate the bubble chart for task C3 with the selected two features
     * To be triggered when clicking the &quot;Show Bubble Chart&quot; button in task C3
     * @param event 		Event Triggering the function
     */
    @FXML
    void doTaskC3(ActionEvent event) {
<span class="nc" id="L957">    	var child = showPane.getChildren();</span>
<span class="nc" id="L958">        child.clear();</span>
    	// Get Date Input
<span class="nc" id="L960">    	String inputDate = C3Date.getText();</span>
    	
    	// Get Feature Input
<span class="nc" id="L963">    	String feature1 = feature1C3.getValue();</span>
<span class="nc" id="L964">    	String feature2 = feature2C3.getValue();</span>
    	
    	// Get Country Input
<span class="nc" id="L967">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L968">    	var boxList = countryPaneC3.getChildren();</span>
<span class="nc bnc" id="L969" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L970">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L971" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L972">    			countries.add(box.getText());</span>
    	}
    	
    	// validation
<span class="nc bnc" id="L976" title="All 2 branches missed.">    	if (!comp3111.covid.util.DateParser.isValidDate(inputDate))</span>
<span class="nc" id="L977">    		comp3111.covid.view.UIService.showDateInvalidDialog();</span>
<span class="nc bnc" id="L978" title="All 2 branches missed.">    	else if (!comp3111.covid.util.DateParser.isDateWithinRange(inputDate))</span>
<span class="nc" id="L979">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L980" title="All 2 branches missed.">    	else if (feature1.equals(feature2))</span>
<span class="nc" id="L981">    		comp3111.covid.view.UIService.showSameFeatureDialog();</span>
<span class="nc bnc" id="L982" title="All 2 branches missed.">    	else if (countries.size() &lt; 2)</span>
<span class="nc" id="L983">    		comp3111.covid.view.UIService.showLessThanTwoCountriesDialog();</span>
    	else {
<span class="nc" id="L985">    		var date = comp3111.covid.util.DateParser.transformToDateString(inputDate);</span>
    		//var map = comp3111.covid.view.HonorTask.generateMapForA3();
<span class="nc" id="L987">    		var featureData = comp3111.covid.view.HonorTask.getFeaturesForC3(feature1, feature2, date, countries);</span>
<span class="nc" id="L988">    		var feature1Data = featureData.get(0);</span>
<span class="nc" id="L989">    		var feature2Data = featureData.get(1);</span>
<span class="nc" id="L990">    		var confirmedData = featureData.get(2);</span>
<span class="nc" id="L991">    		var chart = comp3111.covid.view.HonorTask.generateChartForC3(feature1, feature2, date, countries, </span>
    				feature1Data, feature2Data, confirmedData);
<span class="nc" id="L993">    		var table = comp3111.covid.view.HonorTask.generateReportForC3(feature1, feature2, date, countries, </span>
    				feature1Data, feature2Data, confirmedData);
    		//child.add(map);
<span class="nc" id="L996">    		child.add(chart);</span>
<span class="nc" id="L997">    		child.add(table);</span>
    	}
    	
<span class="nc" id="L1000">    }</span>
    
    /**
     * Generate the world map for task A3
     * To be triggered when clicking the &quot;Show Map&quot; button in task A3
     * @param e 		Event Triggering the function
     */
    @FXML
    void showMapA3(ActionEvent e) {
<span class="nc" id="L1009">        var child = showPane.getChildren();</span>
<span class="nc" id="L1010">        child.clear();</span>
    	// Get Date Input
<span class="nc" id="L1012">    	String inputDate = A3Date.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L1015">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L1016">    	var boxList = countryPaneA3.getChildren();</span>
<span class="nc bnc" id="L1017" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L1018">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L1019" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L1020">    			countries.add(box.getText());</span>
    	}
<span class="nc bnc" id="L1022" title="All 2 branches missed.">    	if (!comp3111.covid.util.DateParser.isValidDate(inputDate))</span>
<span class="nc" id="L1023">    		comp3111.covid.view.UIService.showDateInvalidDialog();</span>
<span class="nc bnc" id="L1024" title="All 2 branches missed.">    	else if (!comp3111.covid.util.DateParser.isDateWithinRange(inputDate))</span>
<span class="nc" id="L1025">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L1026" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L1027">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
<span class="nc" id="L1029">    		var date = comp3111.covid.util.DateParser.transformToDateString(inputDate);</span>
<span class="nc" id="L1030">    		comp3111.covid.view.HonorTask.generateMapForA3(countries, date);</span>
    	}
<span class="nc" id="L1032">    }</span>
    
    /**
     * Generate the world map for task A3
     * To be triggered when clicking the &quot;Show Map&quot; button in task A3
     * @param e 		Event Triggering the function
     */
    @FXML
    void showMapC3(ActionEvent e) {
<span class="nc" id="L1041">        var child = showPane.getChildren();</span>
<span class="nc" id="L1042">        child.clear();</span>
    	// Get Date Input
<span class="nc" id="L1044">    	String inputDate = C3Date.getText();</span>
    	
    	// Get Country Input
<span class="nc" id="L1047">    	ArrayList&lt;String&gt; countries = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L1048">    	var boxList = countryPaneC3.getChildren();</span>
<span class="nc bnc" id="L1049" title="All 2 branches missed.">    	for (int i = 0; i &lt; boxList.size(); i++) {</span>
<span class="nc" id="L1050">    		var box = (CheckBox) boxList.get(i);</span>
<span class="nc bnc" id="L1051" title="All 2 branches missed.">    		if (box.isSelected())</span>
<span class="nc" id="L1052">    			countries.add(box.getText());</span>
    	}
<span class="nc bnc" id="L1054" title="All 2 branches missed.">    	if (!comp3111.covid.util.DateParser.isValidDate(inputDate))</span>
<span class="nc" id="L1055">    		comp3111.covid.view.UIService.showDateInvalidDialog();</span>
<span class="nc bnc" id="L1056" title="All 2 branches missed.">    	else if (!comp3111.covid.util.DateParser.isDateWithinRange(inputDate))</span>
<span class="nc" id="L1057">    		comp3111.covid.view.UIService.showDateOutOfRangeDialog();</span>
<span class="nc bnc" id="L1058" title="All 2 branches missed.">    	else if (countries.size() == 0)</span>
<span class="nc" id="L1059">    		comp3111.covid.view.UIService.showCountryNotSpecifiedDialog();</span>
    	else {
<span class="nc" id="L1061">    		var date = comp3111.covid.util.DateParser.transformToDateString(inputDate);</span>
<span class="nc" id="L1062">    		comp3111.covid.view.HonorTask.generateMapForC3(countries, date);</span>
    	}
<span class="nc" id="L1064">    }</span>
    
    /**
     *  Task Zero to get the confirmed case data
     *  To be triggered by the &quot;Confirmed Cases&quot; button on the Task Zero Tab 
     *  
     */
    @FXML
    void doConfirmedCases(ActionEvent event) {
<span class="nc" id="L1073">    	String iDataset = textfieldDataset.getText();</span>
<span class="nc" id="L1074">    	String iISO = textfieldISO.getText();</span>
<span class="nc" id="L1075">    	String oReport = DataAnalysis.getConfirmedCases(iDataset, iISO);</span>
<span class="nc" id="L1076">    	TextArea textAreaConsole = new TextArea();</span>
<span class="nc" id="L1077">        var child = showPane.getChildren();</span>
<span class="nc" id="L1078">        child.clear();</span>
<span class="nc" id="L1079">        child.add(textAreaConsole);</span>
<span class="nc" id="L1080">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L1081">    }</span>

  
    /**
     *  Task Zero to get the death data
     *  To be triggered by the &quot;Confirmed Deaths&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doConfirmedDeaths(ActionEvent event) {
<span class="nc" id="L1091">    	String iDataset = textfieldDataset.getText();</span>
<span class="nc" id="L1092">    	String iISO = textfieldISO.getText();</span>
<span class="nc" id="L1093">    	String oReport = DataAnalysis.getConfirmedDeaths(iDataset, iISO);</span>
<span class="nc" id="L1094">    	TextArea textAreaConsole = new TextArea();</span>
<span class="nc" id="L1095">        var child = showPane.getChildren();</span>
<span class="nc" id="L1096">        child.clear();</span>
<span class="nc" id="L1097">        child.add(textAreaConsole);</span>
<span class="nc" id="L1098">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L1099">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L1100">    }</span>

  
    /**
     *  Task Zero to get the vaccination data
     *  To be triggered by the &quot;Rate of Vaccination&quot; button on the Task Zero Tab
     *  
     */
    @FXML
    void doRateOfVaccination(ActionEvent event) {
<span class="nc" id="L1110">    	String iDataset = textfieldDataset.getText();</span>
<span class="nc" id="L1111">    	String iISO = textfieldISO.getText();</span>
<span class="nc" id="L1112">    	String oReport = DataAnalysis.getRateOfVaccination(iDataset, iISO);</span>
<span class="nc" id="L1113">    	TextArea textAreaConsole = new TextArea();</span>
<span class="nc" id="L1114">        var child = showPane.getChildren();</span>
<span class="nc" id="L1115">        child.clear();</span>
<span class="nc" id="L1116">        child.add(textAreaConsole);</span>
<span class="nc" id="L1117">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L1118">    	textAreaConsole.setText(oReport);</span>
<span class="nc" id="L1119">    }  </span>
    
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>